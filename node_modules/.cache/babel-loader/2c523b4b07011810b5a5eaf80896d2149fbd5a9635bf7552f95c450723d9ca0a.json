{"ast":null,"code":"import _objectSpread from\"C:/Users/shiva/Desktop/talentflow-mini-hiring-platform/TalentFlow/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import JobModal from'./JobModal';import{DragDropContext,Droppable,Draggable}from'react-beautiful-dnd';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PAGE_SIZE=6;const JobList=()=>{const[jobs,setJobs]=useState([]);const[loading,setLoading]=useState(true);const[filter,setFilter]=useState('');const[debouncedFilter,setDebouncedFilter]=useState('');const[statusFilter,setStatusFilter]=useState('');const[tagFilter,setTagFilter]=useState('');const[page,setPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[showModal,setShowModal]=useState(false);const[editingJob,setEditingJob]=useState(null);// Debounce search input\nuseEffect(()=>{const timer=setTimeout(()=>{setDebouncedFilter(filter);},300);// 300ms delay\nreturn()=>clearTimeout(timer);},[filter]);useEffect(()=>{loadJobs();// eslint-disable-next-line\n},[page,debouncedFilter,statusFilter,tagFilter]);const loadJobs=async()=>{try{var _data$pagination;setLoading(true);const params=new URLSearchParams({page:page.toString(),pageSize:PAGE_SIZE.toString(),search:debouncedFilter,status:statusFilter,sort:'order'});const response=await fetch(\"/api/jobs?\".concat(params));if(!response.ok)throw new Error('Failed to load jobs');const data=await response.json();setJobs(data.data);setTotalPages(((_data$pagination=data.pagination)===null||_data$pagination===void 0?void 0:_data$pagination.totalPages)||1);}catch(error){console.error('Error loading jobs:',error);}finally{setLoading(false);}};// Pagination logic (server-side filtering is already applied)\nconst paginatedJobs=jobs.slice((page-1)*PAGE_SIZE,page*PAGE_SIZE);const getStatusBadge=status=>{const badgeClass=status==='active'?'badge-success':'badge-warning';return/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(badgeClass),children:status});};const uniqueTags=Array.from(new Set(jobs.flatMap(job=>job.tags)));// Modal slug logic\nconst existingSlugs=jobs.map(job=>job.title.trim().toLowerCase().replace(/\\s+/g,'-')).filter(slug=>!editingJob||slug!==editingJob.title.trim().toLowerCase().replace(/\\s+/g,'-'));// Create job handler\nconst handleCreateJob=async jobData=>{try{console.log('JobList: Creating job with data:',jobData);const response=await fetch('/api/jobs',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_objectSpread(_objectSpread({},jobData),{},{status:'active',order:jobs.length+1}))});console.log('JobList: Create job response status:',response.status);if(!response.ok)throw new Error('Failed to create job');setShowModal(false);console.log('JobList: Reloading jobs after creation');loadJobs();}catch(error){console.error('Error creating job:',error);alert('Failed to create job. Please try again.');}};// Edit job handler\nconst handleEditJob=async jobData=>{if(!editingJob)return;try{const response=await fetch(\"/api/jobs/\".concat(editingJob.id),{method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify(jobData)});if(!response.ok)throw new Error('Failed to update job');setShowModal(false);loadJobs();}catch(error){console.error('Error updating job:',error);alert('Failed to update job. Please try again.');}};// Archive/Unarchive handler\nconst handleArchiveJob=async job=>{try{const response=await fetch(\"/api/jobs/\".concat(job.id),{method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify({status:job.status==='active'?'archived':'active'})});if(!response.ok)throw new Error('Failed to update job status');loadJobs();}catch(error){console.error('Error updating job status:',error);alert('Failed to update job status. Please try again.');}};// Drag-and-drop reorder handler\nconst handleDragEnd=async result=>{var _paginatedJobs$toInde;if(!result.destination)return;const fromIndex=result.source.index;const toIndex=result.destination.index;if(fromIndex===toIndex)return;const movedJob=paginatedJobs[fromIndex];const fromOrder=movedJob.order;const toOrder=((_paginatedJobs$toInde=paginatedJobs[toIndex])===null||_paginatedJobs$toInde===void 0?void 0:_paginatedJobs$toInde.order)||(page-1)*PAGE_SIZE+toIndex+1;// Optimistic reorder\nconst reorderedJobs=Array.from(paginatedJobs);const[removed]=reorderedJobs.splice(fromIndex,1);reorderedJobs.splice(toIndex,0,removed);// Update order locally\nconst updatedJobs=jobs.map(job=>{const idx=reorderedJobs.findIndex(j=>j.id===job.id);return idx!==-1?_objectSpread(_objectSpread({},job),{},{order:(page-1)*PAGE_SIZE+idx+1}):job;});setJobs(updatedJobs);try{const response=await fetch(\"/api/jobs/\".concat(movedJob.id,\"/reorder\"),{method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify({fromOrder,toOrder})});if(!response.ok)throw new Error('Failed to reorder');loadJobs();// Reload to get updated order from server\n}catch(error){console.error('Error reordering jobs:',error);setJobs(jobs);// Rollback\nalert('Failed to reorder. Please try again.');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading jobs...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:\"Job Listings\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>{setEditingJob(null);setShowModal(true);},children:\"Create Job\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-input\",placeholder:\"Search jobs by title...\",value:filter,onChange:e=>setFilter(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-input\",value:statusFilter,onChange:e=>setStatusFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"archived\",children:\"Archived\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-input\",value:tagFilter,onChange:e=>setTagFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Tags\"}),uniqueTags.map(tag=>/*#__PURE__*/_jsx(\"option\",{value:tag,children:tag},tag))]})]}),/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"jobs-list\",children:provided=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:\"grid grid-2\",ref:provided.innerRef},provided.droppableProps),{},{children:[paginatedJobs.map((job,index)=>/*#__PURE__*/// @ts-ignore\n_jsx(Draggable,{draggableId:job.id,index:index,children:provided=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({className:\"card\",ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/jobs/\".concat(job.id),className:\"hover:text-blue-600\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:job.title})}),getStatusBadge(job.status)]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-3 text-gray-600\",children:job.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",job.location]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tags:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 mt-1\",children:job.tags.map(tag=>/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-info\",children:tag},tag))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>{setEditingJob(job);setShowModal(true);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn \".concat(job.status==='active'?'btn-danger':'btn-success'),onClick:()=>handleArchiveJob(job),children:job.status==='active'?'Archive':'Unarchive'})]})]}))},job.id)),provided.placeholder]}))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-2 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:page===1,onClick:()=>setPage(page-1),children:\"Prev\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",page,\" of \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:page===totalPages,onClick:()=>setPage(page+1),children:\"Next\"})]}),paginatedJobs.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-6\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No jobs found matching your search.\"})})]}),showModal&&/*#__PURE__*/_jsx(JobModal,{onSave:editingJob?handleEditJob:handleCreateJob,onClose:()=>setShowModal(false),existingJob:editingJob?{title:editingJob.title,description:editingJob.description,location:editingJob.location,tags:editingJob.tags}:undefined,existingSlugs:existingSlugs})]});};export default JobList;","map":{"version":3,"names":["React","useState","useEffect","Link","JobModal","DragDropContext","Droppable","Draggable","jsx","_jsx","jsxs","_jsxs","PAGE_SIZE","JobList","jobs","setJobs","loading","setLoading","filter","setFilter","debouncedFilter","setDebouncedFilter","statusFilter","setStatusFilter","tagFilter","setTagFilter","page","setPage","totalPages","setTotalPages","showModal","setShowModal","editingJob","setEditingJob","timer","setTimeout","clearTimeout","loadJobs","_data$pagination","params","URLSearchParams","toString","pageSize","search","status","sort","response","fetch","concat","ok","Error","data","json","pagination","error","console","paginatedJobs","slice","getStatusBadge","badgeClass","className","children","uniqueTags","Array","from","Set","flatMap","job","tags","existingSlugs","map","title","trim","toLowerCase","replace","slug","handleCreateJob","jobData","log","method","headers","body","JSON","stringify","_objectSpread","order","length","alert","handleEditJob","id","handleArchiveJob","handleDragEnd","result","_paginatedJobs$toInde","destination","fromIndex","source","index","toIndex","movedJob","fromOrder","toOrder","reorderedJobs","removed","splice","updatedJobs","idx","findIndex","j","onClick","type","placeholder","value","onChange","e","target","tag","onDragEnd","droppableId","provided","ref","innerRef","droppableProps","draggableId","draggableProps","dragHandleProps","to","description","location","disabled","onSave","onClose","existingJob","undefined"],"sources":["C:/Users/shiva/Desktop/talentflow-mini-hiring-platform/TalentFlow/src/components/JobList.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport JobModal from './JobModal';\nimport { DragDropContext, Droppable, Draggable, DropResult } from 'react-beautiful-dnd';\nimport { Job, ApiResponse } from '../types';\n\nconst PAGE_SIZE = 6;\n\nconst JobList: React.FC = () => {\n  const [jobs, setJobs] = useState<Job[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('');\n  const [debouncedFilter, setDebouncedFilter] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [tagFilter, setTagFilter] = useState('');\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [editingJob, setEditingJob] = useState<Job | null>(null);\n\n  // Debounce search input\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedFilter(filter);\n    }, 300); // 300ms delay\n\n    return () => clearTimeout(timer);\n  }, [filter]);\n\n  useEffect(() => {\n    loadJobs();\n    // eslint-disable-next-line\n  }, [page, debouncedFilter, statusFilter, tagFilter]);\n\n  const loadJobs = async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams({\n        page: page.toString(),\n        pageSize: PAGE_SIZE.toString(),\n        search: debouncedFilter,\n        status: statusFilter,\n        sort: 'order'\n      });\n\n      const response = await fetch(`/api/jobs?${params}`);\n      if (!response.ok) throw new Error('Failed to load jobs');\n\n      const data: ApiResponse<Job[]> = await response.json();\n      setJobs(data.data);\n      setTotalPages(data.pagination?.totalPages || 1);\n    } catch (error) {\n      console.error('Error loading jobs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Pagination logic (server-side filtering is already applied)\n  const paginatedJobs = jobs.slice((page - 1) * PAGE_SIZE, page * PAGE_SIZE);\n\n  const getStatusBadge = (status: string) => {\n    const badgeClass = status === 'active' ? 'badge-success' : 'badge-warning';\n    return <span className={`badge ${badgeClass}`}>{status}</span>;\n  };\n\n  const uniqueTags = Array.from(new Set(jobs.flatMap(job => job.tags)));\n\n  // Modal slug logic\n  const existingSlugs = jobs\n    .map(job => job.title.trim().toLowerCase().replace(/\\s+/g, '-'))\n    .filter(slug => !editingJob || slug !== editingJob.title.trim().toLowerCase().replace(/\\s+/g, '-'));\n\n  // Create job handler\n  const handleCreateJob = async (jobData: { title: string; description: string; location: string; tags: string[] }) => {\n    try {\n      console.log('JobList: Creating job with data:', jobData);\n      const response = await fetch('/api/jobs', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          ...jobData,\n          status: 'active',\n          order: jobs.length + 1,\n        })\n      });\n\n      console.log('JobList: Create job response status:', response.status);\n      if (!response.ok) throw new Error('Failed to create job');\n\n      setShowModal(false);\n      console.log('JobList: Reloading jobs after creation');\n      loadJobs();\n    } catch (error) {\n      console.error('Error creating job:', error);\n      alert('Failed to create job. Please try again.');\n    }\n  };\n\n  // Edit job handler\n  const handleEditJob = async (jobData: { title: string; description: string; location: string; tags: string[] }) => {\n    if (!editingJob) return;\n\n    try {\n      const response = await fetch(`/api/jobs/${editingJob.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(jobData)\n      });\n\n      if (!response.ok) throw new Error('Failed to update job');\n\n      setShowModal(false);\n      loadJobs();\n    } catch (error) {\n      console.error('Error updating job:', error);\n      alert('Failed to update job. Please try again.');\n    }\n  };\n\n  // Archive/Unarchive handler\n  const handleArchiveJob = async (job: Job) => {\n    try {\n      const response = await fetch(`/api/jobs/${job.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          status: job.status === 'active' ? 'archived' : 'active'\n        })\n      });\n\n      if (!response.ok) throw new Error('Failed to update job status');\n\n      loadJobs();\n    } catch (error) {\n      console.error('Error updating job status:', error);\n      alert('Failed to update job status. Please try again.');\n    }\n  };\n\n  // Drag-and-drop reorder handler\n  const handleDragEnd = async (result: DropResult) => {\n    if (!result.destination) return;\n    const fromIndex = result.source.index;\n    const toIndex = result.destination.index;\n    if (fromIndex === toIndex) return;\n\n    const movedJob = paginatedJobs[fromIndex];\n    const fromOrder = movedJob.order;\n    const toOrder = paginatedJobs[toIndex]?.order || (page - 1) * PAGE_SIZE + toIndex + 1;\n\n    // Optimistic reorder\n    const reorderedJobs = Array.from(paginatedJobs);\n    const [removed] = reorderedJobs.splice(fromIndex, 1);\n    reorderedJobs.splice(toIndex, 0, removed);\n\n    // Update order locally\n    const updatedJobs = jobs.map(job => {\n      const idx = reorderedJobs.findIndex(j => j.id === job.id);\n      return idx !== -1 ? { ...job, order: (page - 1) * PAGE_SIZE + idx + 1 } : job;\n    });\n    setJobs(updatedJobs);\n\n    try {\n      const response = await fetch(`/api/jobs/${movedJob.id}/reorder`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ fromOrder, toOrder })\n      });\n\n      if (!response.ok) throw new Error('Failed to reorder');\n\n      loadJobs(); // Reload to get updated order from server\n    } catch (error) {\n      console.error('Error reordering jobs:', error);\n      setJobs(jobs); // Rollback\n      alert('Failed to reorder. Please try again.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container\">\n        <div className=\"loading\">\n          <div className=\"spinner\"></div>\n          <p>Loading jobs...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h2 className=\"card-title\">Job Listings</h2>\n          <button className=\"btn btn-primary\" onClick={() => { setEditingJob(null); setShowModal(true); }}>\n            Create Job\n          </button>\n        </div>\n        \n        <div className=\"form-group flex gap-2\">\n          <input\n            type=\"text\"\n            className=\"form-input\"\n            placeholder=\"Search jobs by title...\"\n            value={filter}\n            onChange={(e) => setFilter(e.target.value)}\n          />\n          <select\n            className=\"form-input\"\n            value={statusFilter}\n            onChange={e => setStatusFilter(e.target.value)}\n          >\n            <option value=\"\">All Status</option>\n            <option value=\"active\">Active</option>\n            <option value=\"archived\">Archived</option>\n          </select>\n          <select\n            className=\"form-input\"\n            value={tagFilter}\n            onChange={e => setTagFilter(e.target.value)}\n          >\n            <option value=\"\">All Tags</option>\n            {uniqueTags.map(tag => (\n              <option key={tag} value={tag}>{tag}</option>\n            ))}\n          </select>\n        </div>\n\n        {/* @ts-ignore */}\n        <DragDropContext onDragEnd={handleDragEnd}>\n          {/* @ts-ignore */}\n          <Droppable droppableId=\"jobs-list\">\n            {(provided) => (\n              <div className=\"grid grid-2\" ref={provided.innerRef} {...provided.droppableProps}>\n                {paginatedJobs.map((job, index) => (\n                  // @ts-ignore\n                  <Draggable\n                    key={job.id}\n                    draggableId={job.id}\n                    index={index}\n                  >\n                    {(provided: any) => (\n                      <div\n                        className=\"card\"\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                      >\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <Link to={`/jobs/${job.id}`} className=\"hover:text-blue-600\">\n                            <h3 className=\"text-lg font-semibold\">{job.title}</h3>\n                          </Link>\n                          {getStatusBadge(job.status)}\n                        </div>\n                        <p className=\"mb-3 text-gray-600\">{job.description}</p>\n                        <div className=\"mb-3\">\n                          <strong>Location:</strong> {job.location}\n                        </div>\n                        <div className=\"mb-3\">\n                          <strong>Tags:</strong>\n                          <div className=\"flex gap-2 mt-1\">\n                            {job.tags.map(tag => (\n                              <span key={tag} className=\"badge badge-info\">{tag}</span>\n                            ))}\n                          </div>\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <button\n                            className=\"btn btn-secondary\"\n                            onClick={() => { setEditingJob(job); setShowModal(true); }}\n                          >\n                            Edit\n                          </button>\n                          <button\n                            className={`btn ${job.status === 'active' ? 'btn-danger' : 'btn-success'}`}\n                            onClick={() => handleArchiveJob(job)}\n                          >\n                            {job.status === 'active' ? 'Archive' : 'Unarchive'}\n                          </button>\n                        </div>\n                      </div>\n                    )}\n                  </Draggable>\n                ))}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n\n        {/* Pagination Controls */}\n        <div className=\"flex justify-center gap-2 mt-4\">\n          <button\n            className=\"btn\"\n            disabled={page === 1}\n            onClick={() => setPage(page - 1)}\n          >\n            Prev\n          </button>\n          <span>Page {page} of {totalPages}</span>\n          <button\n            className=\"btn\"\n            disabled={page === totalPages}\n            onClick={() => setPage(page + 1)}\n          >\n            Next\n          </button>\n        </div>\n\n        {paginatedJobs.length === 0 && (\n          <div className=\"text-center p-6\">\n            <p>No jobs found matching your search.</p>\n          </div>\n        )}\n      </div>\n      {/* Modal for create/edit */}\n      {showModal && (\n        <JobModal\n          onSave={editingJob ? handleEditJob : handleCreateJob}\n          onClose={() => setShowModal(false)}\n          existingJob={editingJob ? {\n            title: editingJob.title,\n            description: editingJob.description,\n            location: editingJob.location,\n            tags: editingJob.tags,\n          } : undefined}\n          existingSlugs={existingSlugs}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default JobList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}