{"ast":null,"code":"import React,{useState,useEffect}from'react';import{FixedSizeList as List}from'react-window';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const stages=['applied','screen','tech','offer','hired','rejected'];const CandidateList=()=>{const[candidates,setCandidates]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[stageFilter,setStageFilter]=useState('');useEffect(()=>{loadCandidates();},[searchTerm,stageFilter]);const loadCandidates=async()=>{try{setLoading(true);const params=new URLSearchParams({search:searchTerm,stage:stageFilter,page:'1',pageSize:'1000'// Load all for virtualization\n});const response=await fetch(\"/api/candidates?\".concat(params));if(!response.ok)throw new Error('Failed to load candidates');const data=await response.json();setCandidates(data.data);}catch(error){console.error('Error loading candidates:',error);}finally{setLoading(false);}};const filteredCandidates=candidates.filter(candidate=>(candidate.name.toLowerCase().includes(searchTerm.toLowerCase())||candidate.email.toLowerCase().includes(searchTerm.toLowerCase()))&&(stageFilter?candidate.stage===stageFilter:true));const getStageBadge=stage=>{const badgeClasses={applied:'badge-info',screen:'badge-warning',tech:'badge-warning',offer:'badge-success',hired:'badge-success',rejected:'badge-danger'};return/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(badgeClasses[stage]||'badge-info'),children:stage});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading candidates...\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:\"Candidate Management\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Add Candidate\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-input\",placeholder:\"Search candidates...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-input\",value:stageFilter,onChange:e=>setStageFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Stages\"}),stages.map(s=>/*#__PURE__*/_jsx(\"option\",{value:s,children:s},s))]})]}),/*#__PURE__*/_jsx(List,{height:500,itemCount:filteredCandidates.length,itemSize:90,width:'100%',children:_ref=>{let{index,style}=_ref;const candidate=filteredCandidates[index];return/*#__PURE__*/_jsxs(\"div\",{style:style,className:\"list-item flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:candidate.name}),getStageBadge(candidate.stage)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCE7 \",candidate.email]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCDE \",candidate.phone]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCC4 \",candidate.resume]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/candidates/\".concat(candidate.id),className:\"btn btn-secondary\",children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",children:\"Move Stage\"})]})]},candidate.id);}}),filteredCandidates.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-6\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No candidates found matching your search.\"})})]})});};export default CandidateList;","map":{"version":3,"names":["React","useState","useEffect","FixedSizeList","List","jsx","_jsx","jsxs","_jsxs","stages","CandidateList","candidates","setCandidates","loading","setLoading","searchTerm","setSearchTerm","stageFilter","setStageFilter","loadCandidates","params","URLSearchParams","search","stage","page","pageSize","response","fetch","concat","ok","Error","data","json","error","console","filteredCandidates","filter","candidate","name","toLowerCase","includes","email","getStageBadge","badgeClasses","applied","screen","tech","offer","hired","rejected","className","children","type","placeholder","value","onChange","e","target","map","s","height","itemCount","length","itemSize","width","_ref","index","style","phone","resume","href","id"],"sources":["C:/Users/shiva/Desktop/talentflow-mini-hiring-platform/TalentFlow/src/components/CandidateList.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FixedSizeList as List } from 'react-window';\nimport { Candidate, ApiResponse } from '../types';\n\nconst stages = ['applied', 'screen', 'tech', 'offer', 'hired', 'rejected'];\n\nconst CandidateList: React.FC = () => {\n  const [candidates, setCandidates] = useState<Candidate[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [stageFilter, setStageFilter] = useState('');\n\n  useEffect(() => {\n    loadCandidates();\n  }, [searchTerm, stageFilter]);\n\n  const loadCandidates = async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams({\n        search: searchTerm,\n        stage: stageFilter,\n        page: '1',\n        pageSize: '1000' // Load all for virtualization\n      });\n\n      const response = await fetch(`/api/candidates?${params}`);\n      if (!response.ok) throw new Error('Failed to load candidates');\n\n      const data: ApiResponse<Candidate[]> = await response.json();\n      setCandidates(data.data);\n    } catch (error) {\n      console.error('Error loading candidates:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredCandidates = candidates.filter(candidate =>\n    (candidate.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      candidate.email.toLowerCase().includes(searchTerm.toLowerCase())) &&\n    (stageFilter ? candidate.stage === stageFilter : true)\n  );\n\n  const getStageBadge = (stage: string) => {\n    const badgeClasses = {\n      applied: 'badge-info',\n      screen: 'badge-warning',\n      tech: 'badge-warning',\n      offer: 'badge-success',\n      hired: 'badge-success',\n      rejected: 'badge-danger'\n    };\n    return <span className={`badge ${badgeClasses[stage as keyof typeof badgeClasses] || 'badge-info'}`}>{stage}</span>;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container\">\n        <div className=\"loading\">\n          <div className=\"spinner\"></div>\n          <p>Loading candidates...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h2 className=\"card-title\">Candidate Management</h2>\n          <button className=\"btn btn-primary\">Add Candidate</button>\n        </div>\n        \n        <div className=\"form-group flex gap-2\">\n          <input\n            type=\"text\"\n            className=\"form-input\"\n            placeholder=\"Search candidates...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n          <select\n            className=\"form-input\"\n            value={stageFilter}\n            onChange={e => setStageFilter(e.target.value)}\n          >\n            <option value=\"\">All Stages</option>\n            {stages.map(s => <option key={s} value={s}>{s}</option>)}\n          </select>\n        </div>\n\n        <List\n          height={500}\n          itemCount={filteredCandidates.length}\n          itemSize={90}\n          width={'100%'}\n        >\n          {({ index, style }) => {\n            const candidate = filteredCandidates[index];\n            return (\n              <div key={candidate.id} style={style} className=\"list-item flex justify-between items-center\">\n                <div className=\"flex flex-col gap-2\">\n                  <div className=\"flex items-center gap-4\">\n                    <h3 className=\"font-semibold\">{candidate.name}</h3>\n                    {getStageBadge(candidate.stage)}\n                  </div>\n                  <div className=\"text-sm text-gray-600\">\n                    <div>ðŸ“§ {candidate.email}</div>\n                    <div>ðŸ“ž {candidate.phone}</div>\n                    <div>ðŸ“„ {candidate.resume}</div>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <a href={`/candidates/${candidate.id}`} className=\"btn btn-secondary\">View</a>\n                  <button className=\"btn btn-primary\">Edit</button>\n                  <button className=\"btn btn-success\">Move Stage</button>\n                </div>\n              </div>\n            );\n          }}\n        </List>\n\n        {filteredCandidates.length === 0 && (\n          <div className=\"text-center p-6\">\n            <p>No candidates found matching your search.</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CandidateList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}