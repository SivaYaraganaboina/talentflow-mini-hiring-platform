{"ast":null,"code":"import _classPrivateFieldInitSpec from \"C:/Users/shiva/Desktop/talentflow-mini-hiring-platform/TalentFlow/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"C:/Users/shiva/Desktop/talentflow-mini-hiring-platform/TalentFlow/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _classPrivateFieldSet from \"C:/Users/shiva/Desktop/talentflow-mini-hiring-platform/TalentFlow/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\nimport { isNodeProcess } from \"is-node-process\";\nimport { invariant } from \"outvariant\";\nimport { Cookie, CookieJar, MemoryCookieStore } from \"tough-cookie\";\nimport { jsonParse } from './internal/jsonParse.mjs';\nvar _storageKey = /*#__PURE__*/new WeakMap();\nvar _jar = /*#__PURE__*/new WeakMap();\nvar _memoryStore = /*#__PURE__*/new WeakMap();\nclass CookieStore {\n  constructor() {\n    _classPrivateFieldInitSpec(this, _storageKey, \"__msw-cookie-store__\");\n    _classPrivateFieldInitSpec(this, _jar, void 0);\n    _classPrivateFieldInitSpec(this, _memoryStore, void 0);\n    if (!isNodeProcess()) {\n      invariant(typeof localStorage !== \"undefined\", \"Failed to create a CookieStore: `localStorage` is not available in this environment. This is likely an issue with your environment, which has been detected as browser (or browser-like) environment and must implement global browser APIs correctly.\");\n    }\n    _classPrivateFieldSet(_memoryStore, this, new MemoryCookieStore());\n    _classPrivateFieldGet(_memoryStore, this).idx = this.getCookieStoreIndex();\n    _classPrivateFieldSet(_jar, this, new CookieJar(_classPrivateFieldGet(_memoryStore, this)));\n  }\n  getCookies(url) {\n    return _classPrivateFieldGet(_jar, this).getCookiesSync(url);\n  }\n  async setCookie(cookieName, url) {\n    await _classPrivateFieldGet(_jar, this).setCookie(cookieName, url);\n    this.persist();\n  }\n  getCookieStoreIndex() {\n    if (typeof localStorage === \"undefined\") {\n      return {};\n    }\n    const cookiesString = localStorage.getItem(_classPrivateFieldGet(_storageKey, this));\n    if (cookiesString == null) {\n      return {};\n    }\n    const rawCookies = jsonParse(cookiesString);\n    if (rawCookies == null) {\n      return {};\n    }\n    const cookies = {};\n    for (const rawCookie of rawCookies) {\n      const cookie = Cookie.fromJSON(rawCookie);\n      if (cookie != null && cookie.domain != null && cookie.path != null) {\n        var _cookie$domain, _cookies$cookie$domai, _cookie$path;\n        cookies[_cookie$domain = cookie.domain] || (cookies[_cookie$domain] = {});\n        (_cookies$cookie$domai = cookies[cookie.domain])[_cookie$path = cookie.path] || (_cookies$cookie$domai[_cookie$path] = {});\n        cookies[cookie.domain][cookie.path][cookie.key] = cookie;\n      }\n    }\n    return cookies;\n  }\n  persist() {\n    if (typeof localStorage === \"undefined\") {\n      return;\n    }\n    const data = [];\n    const {\n      idx\n    } = _classPrivateFieldGet(_memoryStore, this);\n    for (const domain in idx) {\n      for (const path in idx[domain]) {\n        for (const key in idx[domain][path]) {\n          data.push(idx[domain][path][key].toJSON());\n        }\n      }\n    }\n    localStorage.setItem(_classPrivateFieldGet(_storageKey, this), JSON.stringify(data));\n  }\n}\nconst cookieStore = new CookieStore();\nexport { cookieStore };","map":{"version":3,"names":["isNodeProcess","invariant","Cookie","CookieJar","MemoryCookieStore","jsonParse","_storageKey","WeakMap","_jar","_memoryStore","CookieStore","constructor","_classPrivateFieldInitSpec","localStorage","_classPrivateFieldSet","_classPrivateFieldGet","idx","getCookieStoreIndex","getCookies","url","getCookiesSync","setCookie","cookieName","persist","cookiesString","getItem","rawCookies","cookies","rawCookie","cookie","fromJSON","domain","path","_cookie$domain","_cookies$cookie$domai","_cookie$path","key","data","push","toJSON","setItem","JSON","stringify","cookieStore"],"sources":["C:\\Users\\shiva\\Desktop\\talentflow-mini-hiring-platform\\TalentFlow\\node_modules\\msw\\src\\core\\utils\\cookieStore.ts"],"sourcesContent":["import { isNodeProcess } from 'is-node-process'\nimport { invariant } from 'outvariant'\nimport {\n  Cookie,\n  CookieJar,\n  MemoryCookieStore,\n  type MemoryCookieStoreIndex,\n} from 'tough-cookie'\nimport { jsonParse } from './internal/jsonParse'\n\nclass CookieStore {\n  #storageKey = '__msw-cookie-store__'\n  #jar: CookieJar\n  #memoryStore: MemoryCookieStore\n\n  constructor() {\n    if (!isNodeProcess()) {\n      invariant(\n        typeof localStorage !== 'undefined',\n        'Failed to create a CookieStore: `localStorage` is not available in this environment. This is likely an issue with your environment, which has been detected as browser (or browser-like) environment and must implement global browser APIs correctly.',\n      )\n    }\n\n    this.#memoryStore = new MemoryCookieStore()\n    this.#memoryStore.idx = this.getCookieStoreIndex()\n    this.#jar = new CookieJar(this.#memoryStore)\n  }\n\n  public getCookies(url: string): Array<Cookie> {\n    return this.#jar.getCookiesSync(url)\n  }\n\n  public async setCookie(cookieName: string, url: string): Promise<void> {\n    await this.#jar.setCookie(cookieName, url)\n    this.persist()\n  }\n\n  private getCookieStoreIndex(): MemoryCookieStoreIndex {\n    if (typeof localStorage === 'undefined') {\n      return {}\n    }\n\n    const cookiesString = localStorage.getItem(this.#storageKey)\n    if (cookiesString == null) {\n      return {}\n    }\n\n    const rawCookies = jsonParse<Array<Record<string, unknown>>>(cookiesString)\n    if (rawCookies == null) {\n      return {}\n    }\n\n    const cookies: MemoryCookieStoreIndex = {}\n\n    for (const rawCookie of rawCookies) {\n      const cookie = Cookie.fromJSON(rawCookie)\n\n      if (cookie != null && cookie.domain != null && cookie.path != null) {\n        cookies[cookie.domain] ||= {}\n        cookies[cookie.domain][cookie.path] ||= {}\n        cookies[cookie.domain][cookie.path][cookie.key] = cookie\n      }\n    }\n\n    return cookies\n  }\n\n  private persist(): void {\n    if (typeof localStorage === 'undefined') {\n      return\n    }\n\n    const data = []\n    const { idx } = this.#memoryStore\n\n    for (const domain in idx) {\n      for (const path in idx[domain]) {\n        for (const key in idx[domain][path]) {\n          data.push(idx[domain][path][key].toJSON())\n        }\n      }\n    }\n\n    localStorage.setItem(this.#storageKey, JSON.stringify(data))\n  }\n}\n\nexport const cookieStore = new CookieStore()\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}