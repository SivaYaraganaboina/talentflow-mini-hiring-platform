{"ast":null,"code":"import React,{useState,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MentionsInput=_ref=>{let{value,onChange,placeholder='Type @ to mention someone...',className='form-input',candidates}=_ref;const[showSuggestions,setShowSuggestions]=useState(false);const[suggestions,setSuggestions]=useState([]);const[cursorPosition,setCursorPosition]=useState(0);const[mentionStart,setMentionStart]=useState(-1);const inputRef=useRef(null);const handleInputChange=e=>{const newValue=e.target.value;const newCursorPosition=e.target.selectionStart||0;onChange(newValue);setCursorPosition(newCursorPosition);// Check for @ mentions\nconst textBeforeCursor=newValue.substring(0,newCursorPosition);const atIndex=textBeforeCursor.lastIndexOf('@');if(atIndex!==-1&&atIndex===textBeforeCursor.length-1){// @ is at the end of text before cursor\nsetMentionStart(atIndex);setShowSuggestions(true);setSuggestions(candidates);}else if(atIndex!==-1){// There's text after @\nconst query=textBeforeCursor.substring(atIndex+1).toLowerCase();if(query.length>0){const filtered=candidates.filter(candidate=>candidate.name.toLowerCase().includes(query));setSuggestions(filtered);setShowSuggestions(true);}else{setSuggestions(candidates);setShowSuggestions(true);}setMentionStart(atIndex);}else{setShowSuggestions(false);setMentionStart(-1);}};const handleSuggestionClick=candidate=>{if(mentionStart===-1)return;const beforeMention=value.substring(0,mentionStart);const afterMention=value.substring(cursorPosition);const mention=\"@\".concat(candidate.name);const newValue=beforeMention+mention+' '+afterMention;onChange(newValue);setShowSuggestions(false);setMentionStart(-1);// Focus back to input and set cursor position\nsetTimeout(()=>{if(inputRef.current){const newCursorPos=beforeMention.length+mention.length+1;inputRef.current.focus();inputRef.current.setSelectionRange(newCursorPos,newCursorPos);}},0);};const handleKeyDown=e=>{if(!showSuggestions||suggestions.length===0)return;if(e.key==='Escape'){setShowSuggestions(false);setMentionStart(-1);}else if(e.key==='ArrowDown'||e.key==='ArrowUp'){e.preventDefault();// Could implement keyboard navigation here\n}else if(e.key==='Enter'&&showSuggestions){e.preventDefault();if(suggestions.length>0){handleSuggestionClick(suggestions[0]);}}};const handleBlur=()=>{// Delay hiding suggestions to allow clicks\nsetTimeout(()=>setShowSuggestions(false),150);};return/*#__PURE__*/_jsxs(\"div\",{className:\"mentions-input-container relative\",children:[/*#__PURE__*/_jsx(\"textarea\",{ref:inputRef,value:value,onChange:handleInputChange,onKeyDown:handleKeyDown,onBlur:handleBlur,placeholder:placeholder,className:className,rows:3}),showSuggestions&&suggestions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mentions-suggestions absolute z-10 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto w-full mt-1\",children:[suggestions.slice(0,5).map(candidate=>/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0\",onClick:()=>handleSuggestionClick(candidate),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-sm\",children:candidate.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:candidate.email})]},candidate.id)),suggestions.length>5&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 text-xs text-gray-500 border-t\",children:[\"And \",suggestions.length-5,\" more...\"]})]})]});};export default MentionsInput;","map":{"version":3,"names":["React","useState","useRef","jsx","_jsx","jsxs","_jsxs","MentionsInput","_ref","value","onChange","placeholder","className","candidates","showSuggestions","setShowSuggestions","suggestions","setSuggestions","cursorPosition","setCursorPosition","mentionStart","setMentionStart","inputRef","handleInputChange","e","newValue","target","newCursorPosition","selectionStart","textBeforeCursor","substring","atIndex","lastIndexOf","length","query","toLowerCase","filtered","filter","candidate","name","includes","handleSuggestionClick","beforeMention","afterMention","mention","concat","setTimeout","current","newCursorPos","focus","setSelectionRange","handleKeyDown","key","preventDefault","handleBlur","children","ref","onKeyDown","onBlur","rows","slice","map","onClick","email","id"],"sources":["C:/Users/shiva/Desktop/talentflow-mini-hiring-platform/TalentFlow/src/components/MentionsInput.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Candidate } from '../types';\r\n\r\ninterface MentionsInputProps {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  placeholder?: string;\r\n  className?: string;\r\n  candidates: Candidate[];\r\n}\r\n\r\nconst MentionsInput: React.FC<MentionsInputProps> = ({\r\n  value,\r\n  onChange,\r\n  placeholder = 'Type @ to mention someone...',\r\n  className = 'form-input',\r\n  candidates\r\n}) => {\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [suggestions, setSuggestions] = useState<Candidate[]>([]);\r\n  const [cursorPosition, setCursorPosition] = useState(0);\r\n  const [mentionStart, setMentionStart] = useState(-1);\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    const newValue = e.target.value;\r\n    const newCursorPosition = e.target.selectionStart || 0;\r\n\r\n    onChange(newValue);\r\n    setCursorPosition(newCursorPosition);\r\n\r\n    // Check for @ mentions\r\n    const textBeforeCursor = newValue.substring(0, newCursorPosition);\r\n    const atIndex = textBeforeCursor.lastIndexOf('@');\r\n\r\n    if (atIndex !== -1 && atIndex === textBeforeCursor.length - 1) {\r\n      // @ is at the end of text before cursor\r\n      setMentionStart(atIndex);\r\n      setShowSuggestions(true);\r\n      setSuggestions(candidates);\r\n    } else if (atIndex !== -1) {\r\n      // There's text after @\r\n      const query = textBeforeCursor.substring(atIndex + 1).toLowerCase();\r\n      if (query.length > 0) {\r\n        const filtered = candidates.filter(candidate =>\r\n          candidate.name.toLowerCase().includes(query)\r\n        );\r\n        setSuggestions(filtered);\r\n        setShowSuggestions(true);\r\n      } else {\r\n        setSuggestions(candidates);\r\n        setShowSuggestions(true);\r\n      }\r\n      setMentionStart(atIndex);\r\n    } else {\r\n      setShowSuggestions(false);\r\n      setMentionStart(-1);\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (candidate: Candidate) => {\r\n    if (mentionStart === -1) return;\r\n\r\n    const beforeMention = value.substring(0, mentionStart);\r\n    const afterMention = value.substring(cursorPosition);\r\n    const mention = `@${candidate.name}`;\r\n    const newValue = beforeMention + mention + ' ' + afterMention;\r\n\r\n    onChange(newValue);\r\n    setShowSuggestions(false);\r\n    setMentionStart(-1);\r\n\r\n    // Focus back to input and set cursor position\r\n    setTimeout(() => {\r\n      if (inputRef.current) {\r\n        const newCursorPos = beforeMention.length + mention.length + 1;\r\n        inputRef.current.focus();\r\n        inputRef.current.setSelectionRange(newCursorPos, newCursorPos);\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n    if (!showSuggestions || suggestions.length === 0) return;\r\n\r\n    if (e.key === 'Escape') {\r\n      setShowSuggestions(false);\r\n      setMentionStart(-1);\r\n    } else if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\r\n      e.preventDefault();\r\n      // Could implement keyboard navigation here\r\n    } else if (e.key === 'Enter' && showSuggestions) {\r\n      e.preventDefault();\r\n      if (suggestions.length > 0) {\r\n        handleSuggestionClick(suggestions[0]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    // Delay hiding suggestions to allow clicks\r\n    setTimeout(() => setShowSuggestions(false), 150);\r\n  };\r\n\r\n  return (\r\n    <div className=\"mentions-input-container relative\">\r\n      <textarea\r\n        ref={inputRef}\r\n        value={value}\r\n        onChange={handleInputChange}\r\n        onKeyDown={handleKeyDown}\r\n        onBlur={handleBlur}\r\n        placeholder={placeholder}\r\n        className={className}\r\n        rows={3}\r\n      />\r\n\r\n      {showSuggestions && suggestions.length > 0 && (\r\n        <div className=\"mentions-suggestions absolute z-10 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto w-full mt-1\">\r\n          {suggestions.slice(0, 5).map((candidate) => (\r\n            <div\r\n              key={candidate.id}\r\n              className=\"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0\"\r\n              onClick={() => handleSuggestionClick(candidate)}\r\n            >\r\n              <div className=\"font-medium text-sm\">{candidate.name}</div>\r\n              <div className=\"text-xs text-gray-500\">{candidate.email}</div>\r\n            </div>\r\n          ))}\r\n          {suggestions.length > 5 && (\r\n            <div className=\"px-3 py-2 text-xs text-gray-500 border-t\">\r\n              And {suggestions.length - 5} more...\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MentionsInput;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}