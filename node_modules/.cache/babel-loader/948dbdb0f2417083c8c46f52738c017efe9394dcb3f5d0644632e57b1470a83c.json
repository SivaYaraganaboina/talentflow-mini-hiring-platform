{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shiva\\\\Desktop\\\\talentflow-mini-hiring-platform\\\\TalentFlow\\\\src\\\\components\\\\MentionsInput.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MentionsInput = ({\n  value,\n  onChange,\n  placeholder = 'Type @ to mention someone...',\n  className = 'form-input',\n  candidates\n}) => {\n  _s();\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [suggestions, setSuggestions] = useState([]);\n  const [cursorPosition, setCursorPosition] = useState(0);\n  const [mentionStart, setMentionStart] = useState(-1);\n  const inputRef = useRef(null);\n  const handleInputChange = e => {\n    const newValue = e.target.value;\n    const newCursorPosition = e.target.selectionStart || 0;\n    onChange(newValue);\n    setCursorPosition(newCursorPosition);\n\n    // Check for @ mentions\n    const textBeforeCursor = newValue.substring(0, newCursorPosition);\n    const atIndex = textBeforeCursor.lastIndexOf('@');\n    if (atIndex !== -1 && atIndex === textBeforeCursor.length - 1) {\n      // @ is at the end of text before cursor\n      setMentionStart(atIndex);\n      setShowSuggestions(true);\n      setSuggestions(candidates);\n    } else if (atIndex !== -1) {\n      // There's text after @\n      const query = textBeforeCursor.substring(atIndex + 1).toLowerCase();\n      if (query.length > 0) {\n        const filtered = candidates.filter(candidate => candidate.name.toLowerCase().includes(query));\n        setSuggestions(filtered);\n        setShowSuggestions(true);\n      } else {\n        setSuggestions(candidates);\n        setShowSuggestions(true);\n      }\n      setMentionStart(atIndex);\n    } else {\n      setShowSuggestions(false);\n      setMentionStart(-1);\n    }\n  };\n  const handleSuggestionClick = candidate => {\n    if (mentionStart === -1) return;\n    const beforeMention = value.substring(0, mentionStart);\n    const afterMention = value.substring(cursorPosition);\n    const mention = `@${candidate.name}`;\n    const newValue = beforeMention + mention + ' ' + afterMention;\n    onChange(newValue);\n    setShowSuggestions(false);\n    setMentionStart(-1);\n\n    // Focus back to input and set cursor position\n    setTimeout(() => {\n      if (inputRef.current) {\n        const newCursorPos = beforeMention.length + mention.length + 1;\n        inputRef.current.focus();\n        inputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n      }\n    }, 0);\n  };\n  const handleKeyDown = e => {\n    if (!showSuggestions || suggestions.length === 0) return;\n    if (e.key === 'Escape') {\n      setShowSuggestions(false);\n      setMentionStart(-1);\n    } else if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\n      e.preventDefault();\n      // Could implement keyboard navigation here\n    } else if (e.key === 'Enter' && showSuggestions) {\n      e.preventDefault();\n      if (suggestions.length > 0) {\n        handleSuggestionClick(suggestions[0]);\n      }\n    }\n  };\n  const handleBlur = () => {\n    // Delay hiding suggestions to allow clicks\n    setTimeout(() => setShowSuggestions(false), 150);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mentions-input-container relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      ref: inputRef,\n      value: value,\n      onChange: handleInputChange,\n      onKeyDown: handleKeyDown,\n      onBlur: handleBlur,\n      placeholder: placeholder,\n      className: className,\n      rows: 3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), showSuggestions && suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mentions-suggestions absolute z-10 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto w-full mt-1\",\n      children: [suggestions.slice(0, 5).map(candidate => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0\",\n        onClick: () => handleSuggestionClick(candidate),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium text-sm\",\n          children: candidate.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: candidate.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }, this)]\n      }, candidate.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this)), suggestions.length > 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-3 py-2 text-xs text-gray-500 border-t\",\n        children: [\"And \", suggestions.length - 5, \" more...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(MentionsInput, \"IaJuARDF8LIT2WhClvxvwzIoNoo=\");\n_c = MentionsInput;\nexport default MentionsInput;\nvar _c;\n$RefreshReg$(_c, \"MentionsInput\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","MentionsInput","value","onChange","placeholder","className","candidates","_s","showSuggestions","setShowSuggestions","suggestions","setSuggestions","cursorPosition","setCursorPosition","mentionStart","setMentionStart","inputRef","handleInputChange","e","newValue","target","newCursorPosition","selectionStart","textBeforeCursor","substring","atIndex","lastIndexOf","length","query","toLowerCase","filtered","filter","candidate","name","includes","handleSuggestionClick","beforeMention","afterMention","mention","setTimeout","current","newCursorPos","focus","setSelectionRange","handleKeyDown","key","preventDefault","handleBlur","children","ref","onKeyDown","onBlur","rows","fileName","_jsxFileName","lineNumber","columnNumber","slice","map","onClick","email","id","_c","$RefreshReg$"],"sources":["C:/Users/shiva/Desktop/talentflow-mini-hiring-platform/TalentFlow/src/components/MentionsInput.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Candidate } from '../types';\r\n\r\ninterface MentionsInputProps {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  placeholder?: string;\r\n  className?: string;\r\n  candidates: Candidate[];\r\n}\r\n\r\nconst MentionsInput: React.FC<MentionsInputProps> = ({\r\n  value,\r\n  onChange,\r\n  placeholder = 'Type @ to mention someone...',\r\n  className = 'form-input',\r\n  candidates\r\n}) => {\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [suggestions, setSuggestions] = useState<Candidate[]>([]);\r\n  const [cursorPosition, setCursorPosition] = useState(0);\r\n  const [mentionStart, setMentionStart] = useState(-1);\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    const newValue = e.target.value;\r\n    const newCursorPosition = e.target.selectionStart || 0;\r\n\r\n    onChange(newValue);\r\n    setCursorPosition(newCursorPosition);\r\n\r\n    // Check for @ mentions\r\n    const textBeforeCursor = newValue.substring(0, newCursorPosition);\r\n    const atIndex = textBeforeCursor.lastIndexOf('@');\r\n\r\n    if (atIndex !== -1 && atIndex === textBeforeCursor.length - 1) {\r\n      // @ is at the end of text before cursor\r\n      setMentionStart(atIndex);\r\n      setShowSuggestions(true);\r\n      setSuggestions(candidates);\r\n    } else if (atIndex !== -1) {\r\n      // There's text after @\r\n      const query = textBeforeCursor.substring(atIndex + 1).toLowerCase();\r\n      if (query.length > 0) {\r\n        const filtered = candidates.filter(candidate =>\r\n          candidate.name.toLowerCase().includes(query)\r\n        );\r\n        setSuggestions(filtered);\r\n        setShowSuggestions(true);\r\n      } else {\r\n        setSuggestions(candidates);\r\n        setShowSuggestions(true);\r\n      }\r\n      setMentionStart(atIndex);\r\n    } else {\r\n      setShowSuggestions(false);\r\n      setMentionStart(-1);\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (candidate: Candidate) => {\r\n    if (mentionStart === -1) return;\r\n\r\n    const beforeMention = value.substring(0, mentionStart);\r\n    const afterMention = value.substring(cursorPosition);\r\n    const mention = `@${candidate.name}`;\r\n    const newValue = beforeMention + mention + ' ' + afterMention;\r\n\r\n    onChange(newValue);\r\n    setShowSuggestions(false);\r\n    setMentionStart(-1);\r\n\r\n    // Focus back to input and set cursor position\r\n    setTimeout(() => {\r\n      if (inputRef.current) {\r\n        const newCursorPos = beforeMention.length + mention.length + 1;\r\n        inputRef.current.focus();\r\n        inputRef.current.setSelectionRange(newCursorPos, newCursorPos);\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n    if (!showSuggestions || suggestions.length === 0) return;\r\n\r\n    if (e.key === 'Escape') {\r\n      setShowSuggestions(false);\r\n      setMentionStart(-1);\r\n    } else if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\r\n      e.preventDefault();\r\n      // Could implement keyboard navigation here\r\n    } else if (e.key === 'Enter' && showSuggestions) {\r\n      e.preventDefault();\r\n      if (suggestions.length > 0) {\r\n        handleSuggestionClick(suggestions[0]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    // Delay hiding suggestions to allow clicks\r\n    setTimeout(() => setShowSuggestions(false), 150);\r\n  };\r\n\r\n  return (\r\n    <div className=\"mentions-input-container relative\">\r\n      <textarea\r\n        ref={inputRef}\r\n        value={value}\r\n        onChange={handleInputChange}\r\n        onKeyDown={handleKeyDown}\r\n        onBlur={handleBlur}\r\n        placeholder={placeholder}\r\n        className={className}\r\n        rows={3}\r\n      />\r\n\r\n      {showSuggestions && suggestions.length > 0 && (\r\n        <div className=\"mentions-suggestions absolute z-10 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto w-full mt-1\">\r\n          {suggestions.slice(0, 5).map((candidate) => (\r\n            <div\r\n              key={candidate.id}\r\n              className=\"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0\"\r\n              onClick={() => handleSuggestionClick(candidate)}\r\n            >\r\n              <div className=\"font-medium text-sm\">{candidate.name}</div>\r\n              <div className=\"text-xs text-gray-500\">{candidate.email}</div>\r\n            </div>\r\n          ))}\r\n          {suggestions.length > 5 && (\r\n            <div className=\"px-3 py-2 text-xs text-gray-500 border-t\">\r\n              And {suggestions.length - 5} more...\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MentionsInput;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}