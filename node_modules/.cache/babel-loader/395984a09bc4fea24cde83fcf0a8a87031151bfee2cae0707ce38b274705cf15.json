{"ast":null,"code":"import React,{useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{QueryClient,QueryClientProvider}from'react-query';import{motion}from'framer-motion';import Jobs from'./pages/Jobs';import JobDetailProfessional from'./pages/JobDetailProfessional';import Candidates from'./pages/Candidates';import CandidateProfileProfessional from'./pages/CandidateProfileProfessional';import Assessments from'./pages/Assessments';import HRDashboard from'./pages/HRDashboard';import CandidateDashboard from'./pages/CandidateDashboard';import Header from'./components/common/Header';import ErrorBoundary from'./components/common/ErrorBoundary';import LoginPage from'./pages/LoginPage';import JobsBoardForCandidatesProfessional from'./pages/JobsBoardForCandidatesProfessional';import MyApplicationsProfessional from'./pages/MyApplicationsProfessional';import TakeAssessment from'./pages/TakeAssessment';import JobDetailForCandidate from'./pages/JobDetailForCandidate';import OfflineIndicator from'./components/OfflineIndicator';import CandidateKanbanSimple from'./components/CandidateKanbanSimple';import ToastProvider from'./components/ui/ToastProvider';import{useAuth,useTheme}from'./store';import{initializeDatabase}from'./services/database';import{initializeUserDatabase}from'./services/userDatabase';import'./styles/globals.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const queryClient=new QueryClient({defaultOptions:{queries:{retry:2,staleTime:5*60*1000,// 5 minutes\ncacheTime:10*60*1000// 10 minutes\n}}});const App=()=>{const{user,logout}=useAuth();const{theme}=useTheme();useEffect(()=>{initializeDatabase();initializeUserDatabase();// Apply theme on mount\ndocument.documentElement.classList.toggle('dark',theme==='dark');},[theme]);if(!user.role){return/*#__PURE__*/_jsxs(QueryClientProvider,{client:queryClient,children:[/*#__PURE__*/_jsx(ToastProvider,{}),/*#__PURE__*/_jsx(LoginPage,{})]});}return/*#__PURE__*/_jsx(QueryClientProvider,{client:queryClient,children:/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsxs(Router,{future:{v7_startTransition:true,v7_relativeSplatPath:true},children:[/*#__PURE__*/_jsx(ToastProvider,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Header,{onLogout:logout}),/*#__PURE__*/_jsx(OfflineIndicator,{}),/*#__PURE__*/_jsx(motion.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0.3},className:\"pb-8\",children:/*#__PURE__*/_jsx(Routes,{children:user.role==='HR'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HRDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/jobs/:jobId\",element:/*#__PURE__*/_jsx(JobDetailProfessional,{})}),/*#__PURE__*/_jsx(Route,{path:\"/jobs\",element:/*#__PURE__*/_jsx(Jobs,{})}),/*#__PURE__*/_jsx(Route,{path:\"/candidates/board\",element:/*#__PURE__*/_jsx(CandidateKanbanSimple,{})}),/*#__PURE__*/_jsx(Route,{path:\"/candidates/:id\",element:/*#__PURE__*/_jsx(CandidateProfileProfessional,{})}),/*#__PURE__*/_jsx(Route,{path:\"/candidates\",element:/*#__PURE__*/_jsx(Candidates,{})}),/*#__PURE__*/_jsx(Route,{path:\"/assessments\",element:/*#__PURE__*/_jsx(Assessments,{})}),/*#__PURE__*/_jsx(Route,{path:\"/assessments/create\",element:/*#__PURE__*/_jsx(Assessments,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(CandidateDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/jobs/:jobId\",element:/*#__PURE__*/_jsx(JobDetailForCandidate,{})}),/*#__PURE__*/_jsx(Route,{path:\"/jobs\",element:/*#__PURE__*/_jsx(JobsBoardForCandidatesProfessional,{})}),/*#__PURE__*/_jsx(Route,{path:\"/my-applications\",element:/*#__PURE__*/_jsx(MyApplicationsProfessional,{})}),/*#__PURE__*/_jsx(Route,{path:\"/take-assessment/:jobId\",element:/*#__PURE__*/_jsx(TakeAssessment,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})})]})]})})});};export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}