{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{WifiIcon,ExclamationTriangleIcon,ClockIcon}from'@heroicons/react/24/outline';import{offlineQueue}from'../services/offlineQueue';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const OfflineIndicator=()=>{const[isOnline,setIsOnline]=useState(navigator.onLine);const[queueLength,setQueueLength]=useState(0);useEffect(()=>{const handleOnline=()=>setIsOnline(true);const handleOffline=()=>setIsOnline(false);window.addEventListener('online',handleOnline);window.addEventListener('offline',handleOffline);// Check queue length periodically\nconst interval=setInterval(()=>{setQueueLength(offlineQueue.getQueueLength());},1000);return()=>{window.removeEventListener('online',handleOnline);window.removeEventListener('offline',handleOffline);clearInterval(interval);};},[]);return/*#__PURE__*/_jsx(AnimatePresence,{children:(!isOnline||queueLength>0)&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:\"fixed top-20 right-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg shadow-lg border px-4 py-2 flex items-center space-x-2 \".concat(!isOnline?'bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-200':'bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-200'),children:!isOnline?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Offline\"})]}):queueLength>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[queueLength,\" pending sync\",queueLength!==1?'s':'']})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(WifiIcon,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Online\"})]})})})});};export default OfflineIndicator;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}