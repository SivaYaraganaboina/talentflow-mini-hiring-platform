{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{ArrowLeftIcon,MapPinIcon,CalendarIcon,CurrencyDollarIcon,UserGroupIcon,ClockIcon,CheckCircleIcon,DocumentTextIcon}from'@heroicons/react/24/outline';import{useAuth}from'../store';import Button from'../components/ui/Button';import Card from'../components/ui/Card';import Badge from'../components/ui/Badge';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JobDetailForCandidate=()=>{var _job$tags;const{jobId}=useParams();const navigate=useNavigate();const{user}=useAuth();const[job,setJob]=useState(null);const[loading,setLoading]=useState(true);const[applying,setApplying]=useState(false);const[hasApplied,setHasApplied]=useState(false);useEffect(()=>{if(jobId){loadJob();checkApplicationStatus();}},[jobId]);const loadJob=async()=>{try{setLoading(true);const response=await fetch(\"/api/jobs/\".concat(jobId));if(response.ok){const data=await response.json();setJob(data.data);}else{toast.error('Job not found');navigate('/jobs');}}catch(error){console.error('Error loading job:',error);toast.error('Failed to load job details');}finally{setLoading(false);}};const checkApplicationStatus=async()=>{try{const response=await fetch(\"/api/applications/check?jobId=\".concat(jobId,\"&candidateEmail=\").concat(user.email));if(response.ok){const data=await response.json();setHasApplied(data.hasApplied);}}catch(error){console.error('Error checking application status:',error);}};const handleApply=async()=>{if(!job||!user.email)return;try{setApplying(true);const response=await fetch('/api/applications',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({jobId:job.id,candidateName:user.name,candidateEmail:user.email})});if(response.ok){setHasApplied(true);toast.success('Application submitted successfully!');}else{toast.error('Failed to submit application');}}catch(error){console.error('Error applying:',error);toast.error('Failed to submit application');}finally{setApplying(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading job details...\"})]})});}if(!job){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Job Not Found\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/jobs'),children:\"Back to Jobs\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"ghost\",onClick:()=>navigate(-1),className:\"\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"w-5 h-5 mr-2\"}),\"Go Back\"]}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",onClick:()=>navigate('/jobs'),className:\"\",children:\"All Jobs\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mb-2\",children:job.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-gray-600 dark:text-gray-400\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"w-5 h-5 mr-1\"}),job.location]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"w-5 h-5 mr-1\"}),\"Posted \",new Date(job.createdAt).toLocaleDateString()]})]})]}),/*#__PURE__*/_jsx(Badge,{variant:job.status==='active'?'success':'secondary',children:job.status})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 mb-6\",children:(_job$tags=job.tags)===null||_job$tags===void 0?void 0:_job$tags.map(tag=>/*#__PURE__*/_jsx(Badge,{variant:\"secondary\",children:tag},tag))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Job Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"prose dark:prose-invert max-w-none\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 dark:text-gray-300 leading-relaxed\",children:job.description})})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Requirements\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:['Bachelor\\'s degree in Computer Science or related field','3+ years of experience in software development','Proficiency in modern web technologies','Strong problem-solving skills','Excellent communication skills','Experience with agile development methodologies'].map((requirement,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700 dark:text-gray-300\",children:requirement})]},index))})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Benefits & Perks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[{icon:CurrencyDollarIcon,title:'Competitive Salary',desc:'Market-rate compensation'},{icon:UserGroupIcon,title:'Health Insurance',desc:'Full medical coverage'},{icon:ClockIcon,title:'Flexible Hours',desc:'Work-life balance'},{icon:DocumentTextIcon,title:'Learning Budget',desc:'Professional development'}].map((benefit,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(benefit.icon,{className:\"w-6 h-6 text-blue-600 mt-1\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 dark:text-white\",children:benefit.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:benefit.desc})]})]},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4\",children:\"Apply for this Position\"}),hasApplied?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-6\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-16 h-16 text-green-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-2\",children:\"Application Submitted\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-4\",children:\"Your application has been received. We'll be in touch soon!\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>navigate('/my-applications'),className:\"w-full\",children:\"View My Applications\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-4\",children:\"Ready to join our team? Submit your application now.\"}),/*#__PURE__*/_jsx(Button,{onClick:handleApply,loading:applying,className:\"w-full mb-3\",children:\"Apply Now\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 text-center\",children:\"Your profile information will be used for the application\"})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4\",children:\"About the Company\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 dark:text-white\",children:\"Industry\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Technology\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 dark:text-white\",children:\"Company Size\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"50-200 employees\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 dark:text-white\",children:\"Founded\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"2015\"})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4\",children:\"Similar Positions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:['Frontend Developer','Full Stack Engineer','UI/UX Designer'].map((title,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 dark:text-white text-sm\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"Remote \\u2022 Full-time\"})]},index))})]})]})]})]})});};export default JobDetailForCandidate;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}