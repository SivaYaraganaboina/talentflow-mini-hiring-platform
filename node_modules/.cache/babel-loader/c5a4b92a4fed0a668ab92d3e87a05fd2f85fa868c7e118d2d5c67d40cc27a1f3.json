{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shiva\\\\Desktop\\\\talentflow-mini-hiring-platform\\\\TalentFlow\\\\src\\\\pages\\\\TakeAssessment.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../store';\nimport { apiCall } from '../utils/apiUtils';\nimport Button from '../components/ui/Button';\nimport Card from '../components/ui/Card';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TakeAssessment = () => {\n  _s();\n  const {\n    jobId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [assessment, setAssessment] = useState(null);\n  const [responses, setResponses] = useState({});\n  const [currentSection, setCurrentSection] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [invitationStatus, setInvitationStatus] = useState(null);\n  const [candidateId, setCandidateId] = useState('');\n  useEffect(() => {\n    if (jobId) {\n      checkInvitationAndLoadAssessment();\n    }\n  }, [jobId]);\n  const checkInvitationAndLoadAssessment = async () => {\n    try {\n      setLoading(true);\n\n      // First, get the candidate ID\n      const candidatesResponse = await apiCall(`/api/candidates?search=${encodeURIComponent(user.email)}&page=1&pageSize=100`);\n      if (!candidatesResponse.ok) {\n        toast.error('Unable to verify your application status');\n        navigate('/jobs');\n        return;\n      }\n      const candidatesData = await candidatesResponse.json();\n      const applications = candidatesData.data || [];\n      const currentApplication = applications.find(app => app.jobId === jobId);\n      if (!currentApplication) {\n        toast.error('You must apply for this job before taking the assessment');\n        navigate('/jobs');\n        return;\n      }\n      setCandidateId(currentApplication.id);\n\n      // Check invitation status\n      const statusResponse = await apiCall(`/api/candidates/${currentApplication.id}/assessment-status/${jobId}`);\n      if (!statusResponse.ok) {\n        toast.error('Unable to check assessment status');\n        navigate('/jobs');\n        return;\n      }\n      const status = await statusResponse.json();\n      setInvitationStatus(status);\n\n      // If not invited or already completed, don't load assessment\n      if (!status.invited) {\n        return;\n      }\n      if (status.completed) {\n        return;\n      }\n\n      // Load assessment if invited and not completed\n      const assessmentResponse = await apiCall(`/api/assessments/${jobId}`);\n      if (!assessmentResponse.ok) {\n        toast.error('Assessment not found');\n        navigate('/jobs');\n        return;\n      }\n      const assessmentData = await assessmentResponse.json();\n      setAssessment(assessmentData.data);\n    } catch (error) {\n      console.error('Error loading assessment:', error);\n      toast.error('Failed to load assessment');\n      navigate('/jobs');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleResponse = (questionId, value) => {\n    setResponses(prev => ({\n      ...prev,\n      [questionId]: value\n    }));\n  };\n  const isQuestionVisible = question => {\n    if (!question.conditional) return true;\n    const dependentResponse = responses[question.conditional.dependsOn];\n    return dependentResponse === question.conditional.value;\n  };\n  const validateSection = sectionIndex => {\n    if (!assessment) return false;\n    const section = assessment.sections[sectionIndex];\n    const visibleQuestions = section.questions.filter(isQuestionVisible);\n    for (const question of visibleQuestions) {\n      var _question$validation3;\n      if (question.required && !responses[question.id]) {\n        return false;\n      }\n\n      // Validate numeric ranges\n      if (question.type === 'numeric' && responses[question.id] !== undefined) {\n        var _question$validation, _question$validation2;\n        const value = Number(responses[question.id]);\n        if (((_question$validation = question.validation) === null || _question$validation === void 0 ? void 0 : _question$validation.min) !== undefined && value < question.validation.min) {\n          return false;\n        }\n        if (((_question$validation2 = question.validation) === null || _question$validation2 === void 0 ? void 0 : _question$validation2.max) !== undefined && value > question.validation.max) {\n          return false;\n        }\n      }\n\n      // Validate text length\n      if ((_question$validation3 = question.validation) !== null && _question$validation3 !== void 0 && _question$validation3.maxLength && responses[question.id]) {\n        if (responses[question.id].length > question.validation.maxLength) {\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n  const handleNext = () => {\n    if (!validateSection(currentSection)) {\n      toast.error('Please complete all required fields');\n      return;\n    }\n    if (assessment && currentSection < assessment.sections.length - 1) {\n      setCurrentSection(currentSection + 1);\n    }\n  };\n  const handlePrevious = () => {\n    if (currentSection > 0) {\n      setCurrentSection(currentSection - 1);\n    }\n  };\n  const handleSubmit = async () => {\n    if (!assessment || !validateSection(currentSection)) {\n      toast.error('Please complete all required fields');\n      return;\n    }\n    try {\n      setSubmitting(true);\n      const response = await apiCall(`/api/assessments/${jobId}/submit`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          candidateId,\n          responses\n        })\n      });\n      if (!response.ok) throw new Error('Failed to submit assessment');\n      toast.success('Assessment submitted successfully!');\n      navigate('/my-applications');\n    } catch (error) {\n      toast.error('Failed to submit assessment');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const renderQuestion = question => {\n    var _question$options, _question$options2, _question$validation4, _question$validation5, _question$validation6, _question$validation7;\n    if (!isQuestionVisible(question)) return null;\n    const value = responses[question.id] || '';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-900 dark:text-white mb-2\",\n        children: [question.title, question.required && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500 ml-1\",\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), question.description && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 dark:text-gray-400 mb-3\",\n        children: question.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this), question.type === 'single-choice' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: (_question$options = question.options) === null || _question$options === void 0 ? void 0 : _question$options.map(option => /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: question.id,\n            value: option,\n            checked: value === option,\n            onChange: e => handleResponse(question.id, e.target.value),\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-900 dark:text-white\",\n            children: option\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this)]\n        }, option, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this), question.type === 'multi-choice' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: (_question$options2 = question.options) === null || _question$options2 === void 0 ? void 0 : _question$options2.map(option => /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: Array.isArray(value) && value.includes(option),\n            onChange: e => {\n              const currentValues = Array.isArray(value) ? value : [];\n              if (e.target.checked) {\n                handleResponse(question.id, [...currentValues, option]);\n              } else {\n                handleResponse(question.id, currentValues.filter(v => v !== option));\n              }\n            },\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-900 dark:text-white\",\n            children: option\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 17\n          }, this)]\n        }, option, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), question.type === 'short-text' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: value,\n        onChange: e => handleResponse(question.id, e.target.value),\n        className: \"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\",\n        maxLength: (_question$validation4 = question.validation) === null || _question$validation4 === void 0 ? void 0 : _question$validation4.maxLength\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this), question.type === 'long-text' && /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: value,\n        onChange: e => handleResponse(question.id, e.target.value),\n        rows: 4,\n        className: \"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\",\n        maxLength: (_question$validation5 = question.validation) === null || _question$validation5 === void 0 ? void 0 : _question$validation5.maxLength\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this), question.type === 'numeric' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: value,\n        onChange: e => handleResponse(question.id, e.target.value),\n        min: (_question$validation6 = question.validation) === null || _question$validation6 === void 0 ? void 0 : _question$validation6.min,\n        max: (_question$validation7 = question.validation) === null || _question$validation7 === void 0 ? void 0 : _question$validation7.max,\n        className: \"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this), question.type === 'file-upload' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: e => {\n          var _e$target$files, _e$target$files$;\n          return handleResponse(question.id, ((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : (_e$target$files$ = _e$target$files[0]) === null || _e$target$files$ === void 0 ? void 0 : _e$target$files$.name) || '');\n        },\n        className: \"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this)]\n    }, question.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-400\",\n          children: \"Loading assessment...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show different messages based on invitation status\n  if (!loading && invitationStatus) {\n    if (!invitationStatus.hasAssessment) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900 dark:text-white mb-4\",\n            children: \"No Assessment Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 dark:text-gray-400 mb-6\",\n            children: \"There is no assessment created for this job yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => navigate('/jobs'),\n            children: \"Back to Jobs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this);\n    }\n    if (!invitationStatus.invited) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-6xl mb-6\",\n            children: \"\\u23F3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900 dark:text-white mb-4\",\n            children: \"Assessment Invitation Pending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 dark:text-gray-400 mb-6\",\n            children: \"You haven't been invited to take this assessment yet. HR will send you an invitation when you reach the appropriate stage in the hiring process.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => navigate('/my-applications'),\n              children: \"View My Applications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => navigate('/jobs'),\n              children: \"Back to Jobs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this);\n    }\n    if (invitationStatus.completed) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-6xl mb-6\",\n            children: \"\\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900 dark:text-white mb-4\",\n            children: \"Assessment Already Completed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 dark:text-gray-400 mb-6\",\n            children: \"You have already completed this assessment. Thank you for your submission!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => navigate('/my-applications'),\n              children: \"View My Applications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => navigate('/jobs'),\n              children: \"Back to Jobs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this);\n    }\n  }\n  if (!assessment) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 dark:text-white mb-4\",\n          children: \"Assessment Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-400 mb-6\",\n          children: \"The assessment for this job is not available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/jobs'),\n          children: \"Back to Jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this);\n  }\n  const currentSectionData = assessment.sections[currentSection];\n  const isLastSection = currentSection === assessment.sections.length - 1;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 dark:bg-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900 dark:text-white mb-2\",\n            children: assessment.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 dark:text-gray-400 mb-4\",\n            children: assessment.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n              style: {\n                width: `${(currentSection + 1) / assessment.sections.length * 100}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 dark:text-gray-400 mt-2\",\n            children: [\"Section \", currentSection + 1, \" of \", assessment.sections.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold text-gray-900 dark:text-white mb-6\",\n            children: currentSectionData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), currentSectionData.questions.map(renderQuestion)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: handlePrevious,\n            disabled: currentSection === 0,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), isLastSection ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleSubmit,\n            loading: submitting,\n            children: \"Submit Assessment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleNext,\n            children: \"Next Section\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 366,\n    columnNumber: 5\n  }, this);\n};\n_s(TakeAssessment, \"zwpJzPHcbYE6SaNKc1oa2IU0cI0=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = TakeAssessment;\nexport default TakeAssessment;\nvar _c;\n$RefreshReg$(_c, \"TakeAssessment\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useAuth","apiCall","Button","Card","toast","jsxDEV","_jsxDEV","TakeAssessment","_s","jobId","navigate","user","assessment","setAssessment","responses","setResponses","currentSection","setCurrentSection","loading","setLoading","submitting","setSubmitting","invitationStatus","setInvitationStatus","candidateId","setCandidateId","checkInvitationAndLoadAssessment","candidatesResponse","encodeURIComponent","email","ok","error","candidatesData","json","applications","data","currentApplication","find","app","id","statusResponse","status","invited","completed","assessmentResponse","assessmentData","console","handleResponse","questionId","value","prev","isQuestionVisible","question","conditional","dependentResponse","dependsOn","validateSection","sectionIndex","section","sections","visibleQuestions","questions","filter","_question$validation3","required","type","undefined","_question$validation","_question$validation2","Number","validation","min","max","maxLength","length","handleNext","handlePrevious","handleSubmit","response","method","headers","body","JSON","stringify","Error","success","renderQuestion","_question$options","_question$options2","_question$validation4","_question$validation5","_question$validation6","_question$validation7","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","description","options","map","option","name","checked","onChange","e","target","Array","isArray","includes","currentValues","v","rows","_e$target$files","_e$target$files$","files","hasAssessment","onClick","variant","currentSectionData","isLastSection","style","width","disabled","_c","$RefreshReg$"],"sources":["C:/Users/shiva/Desktop/talentflow-mini-hiring-platform/TalentFlow/src/pages/TakeAssessment.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Assessment, AssessmentQuestion } from '../types';\nimport { useAuth } from '../store';\nimport { apiCall } from '../utils/apiUtils';\nimport Button from '../components/ui/Button';\nimport Card from '../components/ui/Card';\nimport toast from 'react-hot-toast';\n\nconst TakeAssessment: React.FC = () => {\n  const { jobId } = useParams<{ jobId: string }>();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [assessment, setAssessment] = useState<Assessment | null>(null);\n  const [responses, setResponses] = useState<Record<string, any>>({});\n  const [currentSection, setCurrentSection] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [invitationStatus, setInvitationStatus] = useState<{\n    invited: boolean;\n    completed: boolean;\n    hasAssessment: boolean;\n  } | null>(null);\n  const [candidateId, setCandidateId] = useState<string>('');\n\n  useEffect(() => {\n    if (jobId) {\n      checkInvitationAndLoadAssessment();\n    }\n  }, [jobId]);\n\n  const checkInvitationAndLoadAssessment = async () => {\n    try {\n      setLoading(true);\n      \n      // First, get the candidate ID\n      const candidatesResponse = await apiCall(`/api/candidates?search=${encodeURIComponent(user.email)}&page=1&pageSize=100`);\n      if (!candidatesResponse.ok) {\n        toast.error('Unable to verify your application status');\n        navigate('/jobs');\n        return;\n      }\n      \n      const candidatesData = await candidatesResponse.json();\n      const applications = candidatesData.data || [];\n      const currentApplication = applications.find((app: any) => app.jobId === jobId);\n      \n      if (!currentApplication) {\n        toast.error('You must apply for this job before taking the assessment');\n        navigate('/jobs');\n        return;\n      }\n      \n      setCandidateId(currentApplication.id);\n      \n      // Check invitation status\n      const statusResponse = await apiCall(`/api/candidates/${currentApplication.id}/assessment-status/${jobId}`);\n      if (!statusResponse.ok) {\n        toast.error('Unable to check assessment status');\n        navigate('/jobs');\n        return;\n      }\n      \n      const status = await statusResponse.json();\n      setInvitationStatus(status);\n      \n      // If not invited or already completed, don't load assessment\n      if (!status.invited) {\n        return;\n      }\n      \n      if (status.completed) {\n        return;\n      }\n      \n      // Load assessment if invited and not completed\n      const assessmentResponse = await apiCall(`/api/assessments/${jobId}`);\n      if (!assessmentResponse.ok) {\n        toast.error('Assessment not found');\n        navigate('/jobs');\n        return;\n      }\n      \n      const assessmentData = await assessmentResponse.json();\n      setAssessment(assessmentData.data);\n    } catch (error) {\n      console.error('Error loading assessment:', error);\n      toast.error('Failed to load assessment');\n      navigate('/jobs');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleResponse = (questionId: string, value: any) => {\n    setResponses(prev => ({\n      ...prev,\n      [questionId]: value\n    }));\n  };\n\n  const isQuestionVisible = (question: AssessmentQuestion): boolean => {\n    if (!question.conditional) return true;\n    \n    const dependentResponse = responses[question.conditional.dependsOn];\n    return dependentResponse === question.conditional.value;\n  };\n\n  const validateSection = (sectionIndex: number): boolean => {\n    if (!assessment) return false;\n    \n    const section = assessment.sections[sectionIndex];\n    const visibleQuestions = section.questions.filter(isQuestionVisible);\n    \n    for (const question of visibleQuestions) {\n      if (question.required && !responses[question.id]) {\n        return false;\n      }\n      \n      // Validate numeric ranges\n      if (question.type === 'numeric' && responses[question.id] !== undefined) {\n        const value = Number(responses[question.id]);\n        if (question.validation?.min !== undefined && value < question.validation.min) {\n          return false;\n        }\n        if (question.validation?.max !== undefined && value > question.validation.max) {\n          return false;\n        }\n      }\n      \n      // Validate text length\n      if (question.validation?.maxLength && responses[question.id]) {\n        if (responses[question.id].length > question.validation.maxLength) {\n          return false;\n        }\n      }\n    }\n    \n    return true;\n  };\n\n  const handleNext = () => {\n    if (!validateSection(currentSection)) {\n      toast.error('Please complete all required fields');\n      return;\n    }\n    \n    if (assessment && currentSection < assessment.sections.length - 1) {\n      setCurrentSection(currentSection + 1);\n    }\n  };\n\n  const handlePrevious = () => {\n    if (currentSection > 0) {\n      setCurrentSection(currentSection - 1);\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (!assessment || !validateSection(currentSection)) {\n      toast.error('Please complete all required fields');\n      return;\n    }\n\n    try {\n      setSubmitting(true);\n      const response = await apiCall(`/api/assessments/${jobId}/submit`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          candidateId,\n          responses\n        })\n      });\n\n      if (!response.ok) throw new Error('Failed to submit assessment');\n      \n      toast.success('Assessment submitted successfully!');\n      navigate('/my-applications');\n    } catch (error) {\n      toast.error('Failed to submit assessment');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const renderQuestion = (question: AssessmentQuestion) => {\n    if (!isQuestionVisible(question)) return null;\n\n    const value = responses[question.id] || '';\n\n    return (\n      <div key={question.id} className=\"mb-6\">\n        <label className=\"block text-sm font-medium text-gray-900 dark:text-white mb-2\">\n          {question.title}\n          {question.required && <span className=\"text-red-500 ml-1\">*</span>}\n        </label>\n        \n        {question.description && (\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-3\">\n            {question.description}\n          </p>\n        )}\n\n        {question.type === 'single-choice' && (\n          <div className=\"space-y-2\">\n            {question.options?.map(option => (\n              <label key={option} className=\"flex items-center\">\n                <input\n                  type=\"radio\"\n                  name={question.id}\n                  value={option}\n                  checked={value === option}\n                  onChange={(e) => handleResponse(question.id, e.target.value)}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-gray-900 dark:text-white\">{option}</span>\n              </label>\n            ))}\n          </div>\n        )}\n\n        {question.type === 'multi-choice' && (\n          <div className=\"space-y-2\">\n            {question.options?.map(option => (\n              <label key={option} className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={Array.isArray(value) && value.includes(option)}\n                  onChange={(e) => {\n                    const currentValues = Array.isArray(value) ? value : [];\n                    if (e.target.checked) {\n                      handleResponse(question.id, [...currentValues, option]);\n                    } else {\n                      handleResponse(question.id, currentValues.filter(v => v !== option));\n                    }\n                  }}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-gray-900 dark:text-white\">{option}</span>\n              </label>\n            ))}\n          </div>\n        )}\n\n        {question.type === 'short-text' && (\n          <input\n            type=\"text\"\n            value={value}\n            onChange={(e) => handleResponse(question.id, e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            maxLength={question.validation?.maxLength}\n          />\n        )}\n\n        {question.type === 'long-text' && (\n          <textarea\n            value={value}\n            onChange={(e) => handleResponse(question.id, e.target.value)}\n            rows={4}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            maxLength={question.validation?.maxLength}\n          />\n        )}\n\n        {question.type === 'numeric' && (\n          <input\n            type=\"number\"\n            value={value}\n            onChange={(e) => handleResponse(question.id, e.target.value)}\n            min={question.validation?.min}\n            max={question.validation?.max}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        )}\n\n        {question.type === 'file-upload' && (\n          <input\n            type=\"file\"\n            onChange={(e) => handleResponse(question.id, e.target.files?.[0]?.name || '')}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        )}\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 dark:text-gray-400\">Loading assessment...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show different messages based on invitation status\n  if (!loading && invitationStatus) {\n    if (!invitationStatus.hasAssessment) {\n      return (\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">No Assessment Available</h2>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-6\">There is no assessment created for this job yet.</p>\n            <Button onClick={() => navigate('/jobs')}>Back to Jobs</Button>\n          </div>\n        </div>\n      );\n    }\n    \n    if (!invitationStatus.invited) {\n      return (\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n          <div className=\"text-center\">\n            <div className=\"text-6xl mb-6\">⏳</div>\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">Assessment Invitation Pending</h2>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n              You haven't been invited to take this assessment yet. HR will send you an invitation when you reach the appropriate stage in the hiring process.\n            </p>\n            <div className=\"space-y-3\">\n              <Button onClick={() => navigate('/my-applications')}>View My Applications</Button>\n              <Button variant=\"secondary\" onClick={() => navigate('/jobs')}>Back to Jobs</Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n    \n    if (invitationStatus.completed) {\n      return (\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n          <div className=\"text-center\">\n            <div className=\"text-6xl mb-6\">✅</div>\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">Assessment Already Completed</h2>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n              You have already completed this assessment. Thank you for your submission!\n            </p>\n            <div className=\"space-y-3\">\n              <Button onClick={() => navigate('/my-applications')}>View My Applications</Button>\n              <Button variant=\"secondary\" onClick={() => navigate('/jobs')}>Back to Jobs</Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n  \n  if (!assessment) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">Assessment Not Found</h2>\n          <p className=\"text-gray-600 dark:text-gray-400 mb-6\">The assessment for this job is not available.</p>\n          <Button onClick={() => navigate('/jobs')}>Back to Jobs</Button>\n        </div>\n      </div>\n    );\n  }\n\n  const currentSectionData = assessment.sections[currentSection];\n  const isLastSection = currentSection === assessment.sections.length - 1;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <Card className=\"p-8\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">\n              {assessment.title}\n            </h1>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n              {assessment.description}\n            </p>\n            \n            {/* Progress Bar */}\n            <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n              <div \n                className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${((currentSection + 1) / assessment.sections.length) * 100}%` }}\n              />\n            </div>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-2\">\n              Section {currentSection + 1} of {assessment.sections.length}\n            </p>\n          </div>\n\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-semibold text-gray-900 dark:text-white mb-6\">\n              {currentSectionData.title}\n            </h2>\n            \n            {currentSectionData.questions.map(renderQuestion)}\n          </div>\n\n          <div className=\"flex justify-between\">\n            <Button\n              variant=\"secondary\"\n              onClick={handlePrevious}\n              disabled={currentSection === 0}\n            >\n              Previous\n            </Button>\n\n            {isLastSection ? (\n              <Button\n                variant=\"primary\"\n                onClick={handleSubmit}\n                loading={submitting}\n              >\n                Submit Assessment\n              </Button>\n            ) : (\n              <Button\n                variant=\"primary\"\n                onClick={handleNext}\n              >\n                Next Section\n              </Button>\n            )}\n          </div>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default TakeAssessment;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}